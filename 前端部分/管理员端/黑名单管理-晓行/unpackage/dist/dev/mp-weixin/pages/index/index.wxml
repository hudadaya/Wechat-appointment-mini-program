<view><view class="title-bar"><text class="title-text">黑名单管理</text></view><view class="container"><scroll-view class="scroll-view" style="height:40vh;" scrollY="{{true}}"><view class="button-container"><view class="button-title"><view>黑名单列表</view></view><view class="button-grid"><block wx:for="{{grid}}" wx:for-item="row" wx:for-index="rowIndex" wx:key="rowIndex"><view class="button-row"><block wx:for="{{row}}" wx:for-item="user" wx:for-index="colIndex" wx:key="colIndex"><view data-event-opts="{{[['tap',[['showDeleteDialog',['$0'],[[['grid','',rowIndex],['','',colIndex,'name']]]]]]]}}" class="user-button" bindtap="__e"><block wx:if="{{user}}"><text>{{user.name}}</text></block><block wx:if="{{user}}"><text>{{user.reason}}</text></block></view></block><block wx:if="{{showDeleteModal}}"><view class="modal"><view class="modal-content"><view class="top-content"><text>{{"是否将"+modalUser+"移出黑名单？"}}</text></view><view class="bottom-content"><button data-event-opts="{{[['tap',[['deleteblacklist',['$0'],['modalUser']]]]]}}" class="confirm-bottom" bindtap="__e">确认</button><button data-event-opts="{{[['tap',[['hideDeleteDialog']]]]}}" class="cancel-bottom" bindtap="__e">取消</button></view></view></view></block></view></block></view><block wx:if="{{IsBlacklistNull}}"><view>黑名单为空</view></block></view></scroll-view></view><block wx:if="{{showModal}}"><view class="modal-overlay"></view></block><form><view><input class="input-field" type="text" placeholder="请输入用户账号" data-event-opts="{{[['input',[['__set_model',['','username','$event',[]]]]]]}}" value="{{username}}" bindinput="__e"/><input class="input-field" type="text" placeholder="请输入原因" data-event-opts="{{[['input',[['__set_model',['','reason','$event',[]]]]]]}}" value="{{reason}}" bindinput="__e"/><button class="bl-button" type="submit" data-event-opts="{{[['tap',[['AddModal']]]]}}" bindtap="__e">添加用户到黑名单</button><block wx:if="{{showAddModal}}"><view class="modal"><view class="modal-content"><view class="top-content"><text>{{"是否将"+username+"加入黑名单？"}}</text></view><view class="middle-content"></view><view class="bottom-content"><button data-event-opts="{{[['tap',[['addBlacklist',['$0','$1'],['username','reason']]]]]}}" class="confirm-bottom" bindtap="__e">确认</button><button data-event-opts="{{[['tap',[['hideAddDialog']]]]}}" class="cancel-bottom" bindtap="__e">取消</button></view></view></view></block></view></form></view>